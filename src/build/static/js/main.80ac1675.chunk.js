(this["webpackJsonpdashboard-kazakhstan"]=this["webpackJsonpdashboard-kazakhstan"]||[]).push([[0],{243:function(e,t,a){e.exports=a(381)},380:function(e,t,a){},381:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(192),s=a.n(o),i=a(17),c=a.n(i),l=a(131),m=a(23),d=a(21),u=a(207),h=a(206),g=a(132),f=function(){return r.a.createElement("nav",{className:"flex items-center justify-between flex-wrap bg-white py-6 px-6 md:px-16 shadow-sm"},r.a.createElement("div",{className:"flex items-center flex-shrink-0 text-gray-600 mr-6"},r.a.createElement("span",{className:"font-semibold text-xl tracking-tight"},"KAZAKHSTAN DASHBOARD")),r.a.createElement("div",{className:"w-full block flex-grow lg:flex lg:items-center lg:w-auto"},r.a.createElement("div",{className:"text-sm lg:flex-grow"}),r.a.createElement("div",null,r.a.createElement("a",{href:"https://datahub.io/anuveyatsu",target:"_blank",className:"block mt-4 lg:ml-6 lg:inline-block lg:mt-0 text-sm text-gray-700 hover:text-black"},"DATAHUB"),r.a.createElement("a",{href:"https://github.com/anuveyatsu",target:"_blank",className:"block mt-4 lg:ml-6 lg:inline-block lg:mt-0 text-sm text-gray-700 hover:text-black"},"GITHUB"))))},p=function(e){var t=e.totalCases,a=e.totalDeaths,n=e.deathRate,o=e.newCases,s=e.newCaseRate;return r.a.createElement("div",{className:"grid sm:grid-cols-1 lg:grid-cols-5 gap-8 mt-4 mb-4 font-bold text-3xl"},r.a.createElement("div",{className:"border text-center py-16"},t,r.a.createElement("div",{className:"text-xs text-gray-600 font-light"},"Cases in Kazakhstan")),r.a.createElement("div",{className:"border text-center py-16"},a,r.a.createElement("div",{className:"text-xs text-gray-600 font-light"},"Deaths in Kazakhstan")),r.a.createElement("div",{className:"border text-center py-16"},n," %",r.a.createElement("div",{className:"text-xs text-gray-600 font-light"},"Death rate")),r.a.createElement("div",{className:"border text-center py-16"},o,r.a.createElement("div",{className:"text-xs text-gray-600 font-light"},"New cases last 24h")),r.a.createElement("div",{className:"border text-center py-16"},s," %",r.a.createElement("div",{className:"text-xs text-gray-600 font-light"},"New cases rate")))},x=a(193),v=function(e){var t=e.data;return r.a.createElement(x.a,{data:t,margin:{top:20,right:20,bottom:40,left:60},xScale:{type:"time",format:"%Y-%m-%dT%H:%M:%S",precision:"hour"},xFormat:"time:%Y-%m-%dT%H:%M:%S",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},curve:"cardinal",axisBottom:{format:"%b %d",tickValues:"every 11 days",legend:"Date",legendOffset:35,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:0,tickPadding:0,tickRotation:0,legend:"Active cases (confirmed - recovered)",legendOffset:-50,legendPosition:"middle"},enableGridX:!1,colors:{scheme:"nivo"},pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,pointSize:"2",useMesh:!0,legends:[{anchor:"top-left",direction:"column",justify:!1,translateX:10,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:6,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})},b=a(205),y=function(e){var t=e.data,a=e.features;return r.a.createElement(b.a,{data:t,value:"Confirmed",features:a,margin:{top:0,right:0,bottom:0,left:0},colors:"PuRd",domain:[0,300],unknownColor:"#666666",valueFormat:".2s",projectionTranslation:[-.9,2],projectionRotation:[0,0,0],projectionScale:680,enableGraticule:!0,graticuleLineColor:"#dddddd",borderWidth:.5,borderColor:"#152538",legends:[{anchor:"bottom-left",direction:"column",justify:!0,translateX:20,translateY:-10,itemsSpacing:0,itemWidth:94,itemHeight:18,itemDirection:"left-to-right",itemTextColor:"#444444",itemOpacity:.85,symbolSize:18,effects:[{on:"hover",style:{itemTextColor:"#000000",itemOpacity:1}}]}]})},k=(a(380),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={population:[],covid19:[],geojson:{},isLoading:!1},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),t="https://raw.githubusercontent.com/anuveyatsu/demographics-kz/master/data/regions-total.csv",a="https://raw.githubusercontent.com/anuveyatsu/covid-19-kz/master/data/kz.csv",n="https://raw.githubusercontent.com/anuveyatsu/geo-boundaries-kz/master/data/geojson/kz_1.json",r={isLoading:!1},e.next=7,Promise.all([t,a,n].map(function(){var e=Object(l.a)(c.a.mark((function e(o){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(o);case 2:if(s=e.sent,o!==t){e.next=12;break}return e.t0=g.parse,e.next=7,s.text();case 7:e.t1=e.sent,e.t2={header:!0},r.population=(0,e.t0)(e.t1,e.t2).data,e.next=25;break;case 12:if(o!==a){e.next=21;break}return e.t3=g.parse,e.next=16,s.text();case 16:e.t4=e.sent,e.t5={header:!0},r.covid19=(0,e.t3)(e.t4,e.t5).data,e.next=25;break;case 21:if(o!==n){e.next=25;break}return e.next=24,s.json();case 24:r.geojson=e.sent;case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:this.setState(r);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a,n,o,s,i,c,l=this.state,m=(l.population,l.covid19),d=l.geojson;if(l.isLoading)return r.a.createElement("div",{className:"flex h-screen"},r.a.createElement("p",{className:"m-auto"},"Loading ..."));if(m.length>0&&(e=m.slice(m.length-19),t=m.slice(m.length-469,m.length-451),e.pop(),e.forEach((function(e){return e.id=e.Region})),a=e[0].Confirmed,o=((n=e[0].Deaths)/a*100).toFixed(2),i=((s=a-t[0].Confirmed)/t[0].Confirmed*100).toFixed(2),c=[{id:"\u041d\u0443\u0440-\u0421\u0443\u043b\u0442\u0430\u043d",data:[]},{id:"\u0410\u043b\u043c\u0430\u0442\u044b",data:[]}],m.forEach((function(e){c&&("\u041d\u0443\u0440-\u0421\u0443\u043b\u0442\u0430\u043d"===e.Region?c[0].data.push({x:e.Date.slice(0,19),y:parseInt(e.Confirmed)-parseInt(e.Recovered)}):"\u0410\u043b\u043c\u0430\u0442\u044b"===e.Region&&c[1].data.push({x:e.Date.slice(0,19),y:parseInt(e.Confirmed)-parseInt(e.Recovered)}))}))),d.features){var u={"Almaty (Alma-Ata)":"\u0410\u043b\u043c\u0430\u0442\u044b","KZ.AM.TS":"\u041d\u0443\u0440-\u0421\u0443\u043b\u0442\u0430\u043d","KZ.SK.SH":"\u0428\u044b\u043c\u043a\u0435\u043d\u0442","KZ.AA":"\u0410\u043b\u043c\u0430\u0442\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","KZ.AM":"\u0410\u043a\u043c\u043e\u043b\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","KZ.AT":"\u0410\u043a\u0442\u044e\u0431\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","KZ.AR":"\u0410\u0442\u044b\u0440\u0430\u0443\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","KZ.EK":"\u0412\u043e\u0441\u0442\u043e\u0447\u043d\u043e-\u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","KZ.MG":"\u041c\u0430\u043d\u0433\u0438\u0441\u0442\u0430\u0443\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","KZ.NK":"\u0421\u0435\u0432\u0435\u0440\u043e-\u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","KZ.PA":"\u041f\u0430\u0432\u043b\u043e\u0434\u0430\u0440\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","KZ.QG":"\u041a\u0430\u0440\u0430\u0433\u0430\u043d\u0434\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","KZ.QS":"\u041a\u043e\u0441\u0442\u0430\u043d\u0430\u0439\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","KZ.QO":"\u041a\u044b\u0437\u044b\u043b\u043e\u0440\u0434\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","KZ.SK":"\u0422\u0443\u0440\u043a\u0435\u0441\u0442\u0430\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","KZ.WK":"\u0417\u0430\u043f\u0430\u0434\u043d\u043e-\u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c","KZ.ZM":"\u0416\u0430\u043c\u0431\u044b\u043b\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"};d.features.forEach((function(e){e.id=u[e.properties.HASC_1]||u[e.properties.HASC_2]||u[e.properties.NAME_2]}))}return r.a.createElement("div",{className:"h-screen"},r.a.createElement(f,null),r.a.createElement("div",{className:"px-6 md:px-16 h-full"},r.a.createElement(p,{totalCases:a,totalDeaths:n,deathRate:o,newCases:s,newCaseRate:i}),r.a.createElement("div",{className:"grid sm:grid-cols-1 lg:grid-cols-2 gap-8 mt-4 mb-4 w-full h-screen-800px md:h-screen-400px"},r.a.createElement(v,{data:c}),r.a.createElement(y,{data:e,features:d.features}))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[243,1,2]]]);
//# sourceMappingURL=main.80ac1675.chunk.js.map